<!DOCTYPE html>
<html>
    <body bgcolor="grey" font-color="grey">
        <!-- 
            <defs>
              <pattern id="pattern-stripe" 
                width="4" height="4" 
                patternUnits="userSpaceOnUse"
                patternTransform="rotate(45)">
                <rect width="2" height="4" transform="translate(0,0)" fill="white"></rect>
              </pattern>
              <mask id="mask-stripe">
                <rect x="0" y="0" width="100%" height="100%" fill="url(#pattern-stripe)" />
              </mask>      
            </defs>
        -->
        <svg id="mySVG" width="850" height="800" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >

        </svg>

        <script>
            var svgNS = "http://www.w3.org/2000/svg";
            const colorName = ["red","green","purple"];
            const shapeName = ["squiggle","diamond","oval"];
            const amountName = ["1","2","3"];
            const fillName = ["open","striped","full"];
            
            let playField = document.getElementById("mySVG");
            let cardHeight = 250;
            let cardwidth = 150;
            let cardOffset = 10;
            function getColor(colorNumber)
            {
                if (colorNumber==0)
                {
                    return '#ff2600';//red
                }
                if (colorNumber==1)
                {
                    return '#00c100';//green
                }
                if (colorNumber==2)
                {
                    return '#4a23a5';//purple
                }
            }
            function getShape(shapeNumber)
            {
                if (shapeNumber==0)
                {
                    return getEllipse();
                }
                if (shapeNumber==1)
                {
                    return getDiamond();
                }
                if (shapeNumber==2)
                {
                    return getSquiggle();
                }
            }
            function getYPos(number, totalNumber){
                return ((cardHeight-(totalNumber*75))/2)-25 + (number * 75);
                 
                let startPosition = 0;
                let stepSize = 100;
                if (totalNumber==0)
                {                    
                    startPosition = ((cardHeight-(totalNumber*75))/2)-25;
                }
                if (totalNumber==1)
                {
                    startPosition = cardHeight/2-25;
                }
                return startPosition+(number*stepSize);
                /*
                totale hoogte 250
                shape hoogte 50
                offset=25
                (cardHeight-(totalNumber*75))/2


                */
            }
            function getStripedPath()
            {
                var shape = document.createElementNS(svgNS,"path"); 
                shape.setAttributeNS(null,"d","m-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2");
                shape.setAttributeNS(null,"stroke","black");
                shape.setAttributeNS(null,"stroke-width","1");
                return shape;
            }
            function getEllipse()
            {
                var shape = document.createElementNS(svgNS,"ellipse"); 
                shape.setAttributeNS(null,"id","shape");
                shape.setAttributeNS(null,"cx",55);
                shape.setAttributeNS(null,"cy",25);
                shape.setAttributeNS(null,"rx",50);
                shape.setAttributeNS(null,"ry",20);
                //shape.setAttributeNS(null,"fill","purple");
                //shape.setAttributeNS(null,"stroke","black");
                shape.setAttributeNS(null,"stroke-width","1");
                return shape;
            }  
            function getDiamond()
            {
                var shape = document.createElementNS(svgNS,"path"); 
                shape.setAttributeNS(null,"d","m 50 0 50 25 -50 25 -50 -25 z");
                //shape.setAttributeNS(null,"fill","red");
                //shape.setAttributeNS(null,"stroke","black");
                //shape.setAttributeNS(null,"stroke-width","1");
                return shape;
            }  
            function getSquiggle()
            {
                var shape = document.createElementNS(svgNS,"path"); 
                shape.setAttributeNS(null,"d","m1099 704c-56-42-121-72-184-83-70-13-106-8-198 30-283 117-487 14-487-245 0-87 14-141 45-172 35-34 71-30 140 16 65 43 138 70 193 70 19 0 76-14 126-31 189-66 357-29 451 99 80 109 87 274 14 326-33 23-60 20-100-10z");
                //shape.setAttributeNS(null,"fill","green");
                shape.setAttributeNS(null,"transform-origin", "-12% -6%");
                shape.setAttributeNS(null,"transform", "scale(.095)");
                //shape.setAttributeNS(null,"stroke","black");
                //shape.setAttributeNS(null,"stroke-width","5%");
                return shape;
            }              
            
            function createCardShape(Id, xPos, yPos)
            {
                var shape = document.createElementNS(svgNS,"rect");
                shape.setAttributeNS(null,"id","card");
                shape.setAttributeNS(null,"x",0);
                shape.setAttributeNS(null,"y",0);
                shape.setAttributeNS(null,"height",cardHeight);
                shape.setAttributeNS(null,"width",cardwidth);
                shape.setAttributeNS(null,"rx",5);
                shape.setAttributeNS(null,"fill","white");
                return shape;
            }   
            function CreateShape(cardId, number, totalNumber, colorType, shapeType, patternType)
            {
                let group = document.createElementNS(svgNS,"svg");
                group.setAttributeNS(null,"x",25);
                let yPos = getYPos(number, totalNumber)
                group.setAttributeNS(null,"y",yPos);   
                group.setAttributeNS(null,"id","group_"+number);

                let shape =  getShape(shapeType);
                let color = getColor(colorType);
                shape.setAttributeNS(null,"id","shape_"+number);
                shape.setAttributeNS(null,"x",0);
                shape.setAttributeNS(null,"y",0);
                shape.setAttributeNS(null,"fill",color);
                shape.setAttributeNS(null,"stroke",color);
                shape.setAttributeNS(null,"stroke-width","1");
                //shape.setAttributeNS(null,"x",100);
                //shape.setAttributeNS(null,"y",100+(number*10));             
                group.appendChild(shape);

                return group;
            }
            function CreateCard(Id, xPos, yPos, color, shapeType, number, pattern)
            {
                let container = document.createElementNS(svgNS,"svg");
                container.setAttributeNS(null,"id","card_"+Id);
                container.setAttributeNS(null,"height",cardHeight);
                container.setAttributeNS(null,"width",cardwidth);
                container.setAttributeNS(null,"x",xPos*(cardwidth + cardOffset));
                container.setAttributeNS(null,"y",yPos*(cardHeight + cardOffset));
                playField.appendChild(container);

                let cardShape = createCardShape(Id, xPos, yPos);                
                container.appendChild(cardShape);
                for (let i = 0; i<=number;i++)
                {
                    let shape = CreateShape(Id, i, number, color, shapeType, pattern);
                    container.appendChild(shape);
                }
            }

            CreateCard(0, 0, 0, 0, 1, 0, 1);
            CreateCard(1, 1, 0, 1, 1, 1, 2);
            CreateCard(2, 2, 0, 2, 0, 2, 0);
            CreateCard(3, 3, 0, 0, 2, 2, 0);

            CreateCard(4, 1, 1, 1, 0, 1, 2);
            CreateCard(5, 2, 1, 2, 2, 0, 1);
            CreateCard(6, 0, 1, 1, 2, 0, 1);
            CreateCard(7, 3, 1, 0, 0, 2, 0);

            CreateCard(8, 0, 2, 1, 1, 1, 2);
            CreateCard(9, 1, 2, 2, 2, 1, 2);
            CreateCard(10, 2, 2, 1, 0, 0, 2);
            CreateCard(11, 3, 2, 0, 1, 2, 2);
        </script>
    </body>
</html>