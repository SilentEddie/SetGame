<!DOCTYPE html>
<html lang=nl>
<head>
	<meta charset=utf-8>
	<meta name=description content="Beschrijving van de webpagina">
	<meta name=keywords content="trefwoord1, trefwoord2">
	<title>titel van de pagina</title>
</head>
<body>
<h2>set!</h2>
<h3>game Board:</h3>
<div id ="gameBoard">
</div>
<h3>Combinations:</h3>
<div id ="Combinations">
</div>
<h3>Deck:</h3>
<div id ="allCards">
</div>
</body>
<script>

const colorName = ["red","green","purple"];
const shapeName = ["squiggle","diamond","oval"];
const amountName = ["1","2","3"];
const fillName = ["open","striped","full"];

const cards = amountName
	.flatMap(amount => colorName
		.flatMap(color =>  fillName
			.flatMap(fill => shapeName
				.map(shape => {
					return {amount:amount, color:color, fill:fill, shape:shape}
		}))));

const getCardString = (c) => `${c.amount} ${c.color} ${c.fill} ${c.shape}`

const getStackString = (cardArray,breakString) => {
	return cardArray.
		map( (card) => (getCardString(card) + breakString) ).
			reduce ( (a,b) => a + b);
}

const shuffle = () => {
	cards.map( (v,k) => {
		let random = Math.floor(Math.random() * cards.length);
		let newV = cards[random];
		cards[random] = v;
		return newV;
	})
}

const display = (array,element) => {
	document.getElementById(element).innerHTML = getStackString(array,"<br>")
}

const combiDisplay = (array, element) => {
	array.forEach(combi => document.getElementById(element).innerHTML += getStackString(combi," & ") + "<br>" );
}

const pickCards = (number) => {
	 return cards.splice(0,number);
}

const combinations = (cardArray) => {
	return cardArray
		.flatMap( (a, i) => cardArray
			.slice(i+1)
				.flatMap( (b,i2) => cardArray
					.slice(i2+2+i)
						.map( (c) => [a,b,c])
				)
		);
}



const play = () => {
	shuffle();
  const gameBoard = pickCards(9);
	display(gameBoard, "gameBoard");
	display(cards, "allCards");
	var combi = combinations(gameBoard);

	combiDisplay(combi,"Combinations")



console.log(result);

}

play();

</script>

</html>
